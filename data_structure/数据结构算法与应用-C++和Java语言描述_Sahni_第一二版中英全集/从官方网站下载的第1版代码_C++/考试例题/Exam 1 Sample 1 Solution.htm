
<HTML>
<HEAD>
<LINK rel="stylesheet" href="../exer.css">
</HEAD>
<BODY>
<H2>Exam 1</H2>
<H2>Sample 1, 50 Minutes</H2>
<H2>Solutions</H2>
<BR>
</H1>
<ol>
<li>
(a)  The code is given below.
The relevant files are <code class=var>jlist.*</code>.
<pre class=code>
<hr class=coderule>
template&lt;class T&gt;
LinearList&lt;T&gt;&amp; LinearList&lt;T&gt;::RightShift(int k)
{// Shift elements right by k.
 // Zero fill at left end.
 // Throw NoMem if space inadequate.
   // make sure k is nonnegative
   if (k &lt; 0) throw BadInput();

   // make sure we have enough space
   if (length + k &gt; MaxSize) throw NoMem();

   // shift elements from right to left
   for (int i = length - 1; i &gt;= 0; i--)
      element[i+k] = element[i];

   // zero fill at left end
   for (int i = 0; i &lt; k; i++)
      element[i] = 0;

   length += k;  // new length

   return *this;
}
<hr class=coderule>
</pre>
<dl compact>
<dt>(b)
<dd>
When an exception is thrown the complexity is Theta(1).
Otherwise, the first <code class=var>for</code> loop takes
Theta(<code class=var>length</code>) time, and the second
loop takes
Theta(<code class=var>k</code>) time.  Therefore, when
an exception is not thrown, the complexity is Theta(<code class=var>length+k</code>).
Combining the complexities for the cases when an exception is and is not
thrown, the complexity becomes
O(<code class=var>length+k</code>).
</dl>
<br><br>
<br><br>
<br><br>
<br><br>
<br><br>
<li>
(a) The code is given below.
The relevant files are <code class=var>ichain.*</code>.
<pre class=code>
<hr class=coderule>
template&lt;class T&gt;
bool Chain&lt;T&gt;::IsSorted() const
{// Return true if the elements are in
 // nondecreasing order; return false otherwise.
   if (!first) return true;  // empty

   // check nonempty chain
   ChainNode&lt;T&gt; *current = first,        // current node
                *next = first-&gt;link;     // next node
   while (next) {
      if (current-&gt;data &gt; next-&gt;data)
         return false;
      current = next;
      next = current-&gt;link;
      }
   return true;
}
<hr class=coderule>
</pre>
<dl compact>
<dt>(b)
<dd>
The <code class=var>while</code> iterates at
most <code class=var>length</code>-1
times and each iteration takes Theta(1) time.  The remaining lines take
Theta(1) time.  Therefore, the overall complexity
is O(<code class=var>length</code>).
</dl>
<br>
<li>
(a) A sample 4 x 4 N-matrix is given below.
<pre class=figure>
                    1 0 0 2
                    3 4 0 5
                    6 0 7 8
                    9 0 0 1
</pre>
The compact representation is [1,3,6,9,2,5,8,1,4,7].
<br>
(b) The code is given below.
The relevant files are <code class=var>nmatrix.*</code>.
<pre class=code>
<hr class=coderule>
template&lt;class T&gt;
NMatrix&lt;T&gt;&amp; NMatrix&lt;T&gt;::
     Store(const T&amp; x, int i, int j)
{// Store x as N(i,j).
   if ( i &lt; 1 || j &lt; 1 || i &gt; n || j &gt; n)
       throw OutOfBounds();
   if (j == 1) t[i-1] = x;          // first column
   else if (j == n) t[n+i-1] = x;   // last column
        else if (i == j) t[2*n+i-2] = x;
                         // rest of diagonal
             else if (x != 0) throw MustBeZero();
   return *this;
}
<hr class=coderule>
</pre>
</ol>
<CENTER><a href="q97.mhtml">BACK</a></CENTER>
<!--crfooter.mhtml-->

<CENTER>
<IMG SRC="/catalogs/img/space.gif" WIDTH="10" HEIGHT="20" BORDER="0">
<P>
<font class="smalltext">
<A HREF="/catalogs/cust_serv/feedback.mhtml" TARGET="_top" CLASS="link">
<font face="verdana, arial, helvetica" size="1">feedback form</font></A> |   
<A HREF="/catalogs/cust_serv/permissions.mhtml" TARGET="_top" CLASS="link">
<font face="verdana, arial, helvetica" size="1">permissions</font></A> |   
<A HREF="/catalogs/international" TARGET="_top" CLASS="link">
<font face="verdana, arial, helvetica" size="1">international</font></A> |
<A HREF="/catalogs/rep/" TARGET="_top" CLASS="link">
<font face="verdana, arial, helvetica" size="1">locate your campus rep</font></A> |  
<A HREF="/catalogs/cust_serv/review1.mhtml" TARGET="_top" CLASS="link">
<font face="verdana, arial, helvetica" size="1">request a review copy</font></A>
<BR>
<BR>
<A HREF="/catalogs/solutions/" TARGET="_top" CLASS="link">
<font face="verdana, arial, helvetica" size="1">digital solutions</font></A> | 
<A HREF="/catalogs/work/" TARGET="_top" CLASS="link">
<font face="verdana, arial, helvetica" size="1">publish with us</font></A> | 
<A HREF="/catalogs/cust_serv/" TARGET="_top" CLASS="link">
<font face="verdana, arial, helvetica" size="1">customer service</font></A> |   
<A HREF="/catalogs/index.mhtml" TARGET="_top" CLASS="link">
<font face="verdana, arial, helvetica" size="1">mhhe home</font></A>
<P>
<HR>
<P>
<font face="verdana, arial, helvetica" size="1">
Copyright &copy;2001 The McGraw-Hill Companies.<BR>
Any use is subject to the <A HREF="http://www.mcgraw-hill.com/copyrttm.htm" CLASS="link" TARGET="_new">
<font face="verdana, arial, helvetica" size="1">Terms of Use</font></A> and <A HREF="/catalogs/privacy_notice.mhtml" 
CLASS="link" TARGET="_new"><font face="verdana, arial, helvetica" size="1">Privacy Policy</font></A>.<BR>
McGraw-Hill Higher Education is one of the many fine businesses of the 
<A HREF="http://www.mcgraw-hill.com" CLASS="link" TARGET="_new"><font face="verdana, arial, helvetica" size="1">
The McGraw-Hill Companies</font></A>.
</font>
</font>

</CENTER>


